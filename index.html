<!doctype html>
<html>
	<head>
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="https://d3js.org/d3.v3.min.js"></script>
	<script src='http://lorenzoongithub.github.io/completely/complete.ly.1.0.1.min.js'></script>
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col-md-6">
					<h1>Siteswap Suggest</h1>
					<h2>Autocomplete for siteswap prefixes</h2>
                    <hr/>
                    <div id="input"></div>
                    <hr/>
                    <div class="alert alert-danger" id="error">
                        <span class='white-text flow-text'> '' </span>
                    </div>
                    <svg class='stage'></svg>
			    </div>
			   <div id="juggle_container" class="col-md-6"></div>
			</div>
		</div>
    </body>
    <script src="suggest.js"></script>
    <script type="text/javascript" src="multiplex_anim.js"></script>
    <script src='graph.js'></script>
    <script type="text/javascript">
    window.onload = function () {
        // suggestbox init
        suggestbox = completely(document.getElementById('input'), {
            fontSize : '24px',
            fontFamily : 'Arial',
            color:'#933',
        });
        suggestbox.options = ['531'];
        suggestbox.repaint(); 
        suggestbox.onChange = function(txt) {
            UpdateSuggestion(txt);
            if(suggestbox.options.length > 0) {
      		    sswani.setSiteswap(suggestbox.options[0]);
      		    sswani.startAnimation();
                render(suggestbox.options[0]);
            } else {
                render(suggestbox.getText());
            }
        }
        setTimeout(function() {
            suggestbox.input.focus();
        },0);

        // animator init
        sswani = new SiteswapAnimator(document.getElementById("juggle_container"));
  		sswani.setSiteswap("531", "20");
  		sswani.setSiteswap(suggestbox.options[0]);
  		sswani.startAnimation();
  		render(suggestbox.options[0]);
    }
  </script>
</html>
